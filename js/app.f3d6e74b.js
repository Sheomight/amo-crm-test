(function(){"use strict";var e={7940:function(e,t,n){var o=n(7764),s=n(4108),a=(n(3248),n(2500)),r=n(8808);const i=(0,r.O6)("essenceStore",(()=>{const e=(0,a.cB)([{value:"leads",text:"Сделка"},{value:"contacts",text:"Контакт"},{value:"companies",text:"Компания"}]),t=(0,a.IL)([]);return{essenceTypeList:e,createdEssence:t}}));var l=n(9096);const c={class:"loader"};function u(e,t){return(0,s.Wz)(),(0,s.An)("div",c)}var d=n(4100);const m={},p=(0,d.c)(m,[["render",u]]);var v=p,f={__name:"CustomButton",props:{isLoading:{type:Boolean,default:!1}},setup(e){const t=e;return(e,n)=>((0,s.Wz)(),(0,s.An)("button",{class:(0,l.WN)(["btn",{"btn-loading":t.isLoading}])},[t.isLoading?((0,s.Wz)(),(0,s.Az)(v,{key:0})):(0,s.oF)(e.$slots,"default",{key:1})],2))}};const b=(0,d.c)(f,[["__scopeId","data-v-703e41c6"]]);var I=b;const y=e=>((0,s.ED)("data-v-32014bf0"),e=e(),(0,s.ii)(),e),z=y((()=>(0,s.QD)("option",{class:"select-item",value:null,disabled:""},"Не выбрано",-1))),M=["value"];var h={__name:"CustomSelect",props:{options:{type:[Array,Object],required:!0}},setup(e){const t=e;let n=(0,a.IL)(null);return(e,r)=>(0,s.wt)(((0,s.Wz)(),(0,s.An)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>(0,a.Ir)(n)?n.value=e:n=e),class:"select"},[z,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(t.options,(e=>((0,s.Wz)(),(0,s.An)("option",{class:"select-item",key:e.value,value:e},(0,l.WA)(e.text),9,M)))),128))],512)),[[o.Ip,(0,a.KV)(n)]])}};const j=(0,d.c)(h,[["__scopeId","data-v-32014bf0"]]);var N=j,O=n(2964);const T=(0,r.O6)("crmStore",(()=>{const e=(0,a.IL)("https://rmxtfurm45mw01.amocrm.ru/api/v4/"),t=(0,a.IL)("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjhjMjRlZDEyNjhmYzEyMjc4MzQ5ODdlMGQxOWU2Zjk1YmI4MTY3MTMyZGE2MTZlMDU2YzVhZTgyODM0NzVmOTEwZDI1ZDA1MmEyNDY2NTZlIn0.eyJhdWQiOiIxMmU3MjkyZi0zMmNhLTQ3MmMtYjI3Mi01NjVjYmI5ZTczMzciLCJqdGkiOiI4YzI0ZWQxMjY4ZmMxMjI3ODM0OTg3ZTBkMTllNmY5NWJiODE2NzEzMmRhNjE2ZTA1NmM1YWU4MjgzNDc1ZjkxMGQyNWQwNTJhMjQ2NjU2ZSIsImlhdCI6MTcwNzczNzY4NCwibmJmIjoxNzA3NzM3Njg0LCJleHAiOjE3MDc4MjQwODQsInN1YiI6IjcxMTI2MjkiLCJncmFudF90eXBlIjoiIiwiYWNjb3VudF9pZCI6MzE1NTA5ODYsImJhc2VfZG9tYWluIjoiYW1vY3JtLnJ1IiwidmVyc2lvbiI6Miwic2NvcGVzIjpbImNybSJdLCJoYXNoX3V1aWQiOiIxZTY2NzNiNy0zMmY3LTQ4NmUtODJjYi05NGE2Y2E5M2Q5YzQifQ.EFk6bYzs8_OjunN7T-UsmM8VCpDpOEeUwS7NSh_qUYkwtJzNS8THeUdkzgQ7beJrz-aPcSh7MbsO91nrlboY3JHoaAjGQ_046Zif1aEtCI3Js6FDQ8uLrlbqA4nwi_TOyTHy5n98b2tTa02nYVpYeZURzOJtnD4xg908WiD4-dTkAku0xqyZakrbTqusdz7ehVVcs6GrkmUpSn8PMLiwJl9Cbke6ytXlT-sP-NMvHL8HNx5zH77es8RgQiC-m-JjMuBOUbDNVXgf1Cwn5g6BAUI7DpsU96oxbp30i4s2ZdSrchEYsEbXwwNyB7oheQgxFpfTLCw5KwUhrSPevrVBYA");async function n(n){const s=await(0,O.c)({method:"post",url:e.value+n.value,headers:{Authorization:"Bearer "+t.value,Contenttype:"application/json"},name:"Perta",data:{name:[n.value]}});return await o(s.data._embedded[n.value][0].id,n.value)}async function o(n,o){const s=await(0,O.c)({method:"get",url:e.value+o+"/"+n,headers:{Authorization:"Bearer "+t.value}});return s.data}return{createEssence:n}})),g=(0,s.QD)("h1",null,"Создать новую сущность",-1),D={class:"form-group"};var Q={__name:"CreationForm",setup(e){const t=i(),n=T();let r=(0,a.IL)(null),l=(0,a.IL)(!1);async function c(){l.value=!0;const e=await n.createEssence(r.value,n.baseDomain,n.accessToken);t.createdEssence.push(e),l.value=!1}return(e,n)=>((0,s.Wz)(),(0,s.An)("form",{class:"form",onSubmit:(0,o.Y7)(c,["prevent"])},[g,(0,s.QD)("div",D,[(0,s.K2)(N,{class:"form-select",options:(0,a.KV)(t).essenceTypeList,modelValue:(0,a.KV)(r),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,a.Ir)(r)?r.value=e:r=e)},null,8,["options","modelValue"]),(0,s.K2)(I,{class:"form-btn",isLoading:(0,a.KV)(l),disabled:null==(0,a.KV)(r)},{default:(0,s.Ql)((()=>[(0,s.mY)(" Создать ")])),_:1},8,["isLoading","disabled"])])],32))}};const Y=Q;var w=Y,A={__name:"EssenceItem",props:{essenceItem:{type:Object,required:!0}},setup(e){const t=e;return(e,n)=>((0,s.Wz)(),(0,s.An)("tr",null,[(0,s.QD)("td",null,(0,l.WA)(t.essenceItem.id),1),(0,s.QD)("td",null,(0,l.WA)(t.essenceItem.name),1)]))}};const W=A;var _=W;const k={key:0,class:"table"},E=(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("td",null,"Id сущности"),(0,s.QD)("td",null,"Название сущности")])],-1),L={key:1,class:"table"},V=(0,s.QD)("h2",null,"Сущностей пока нет",-1),J=[V];var x={__name:"EssenceList",setup(e){const t=i(),n=t.createdEssence;return(e,t)=>(0,a.KV)(n).length?((0,s.Wz)(),(0,s.An)("table",k,[E,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)((0,a.KV)(n),(e=>((0,s.Wz)(),(0,s.Az)(_,{key:e.id,essenceItem:e},null,8,["essenceItem"])))),128))])])):((0,s.Wz)(),(0,s.An)("div",L,J))}};const Z=x;var C=Z;const S={class:"content"};var U={__name:"App",setup(e){return(e,t)=>((0,s.Wz)(),(0,s.An)("div",S,[(0,s.K2)(w),(0,s.K2)(C)]))}};const K=U;var B=K;const G=(0,r.Kw)(),F=(0,o.W0)(B);F.use(G).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],a=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,r=o[0],i=o[1],l=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var u=l(n)}for(t&&t(o);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self["webpackChunkgenesis_test"]=self["webpackChunkgenesis_test"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[999],(function(){return n(7940)}));o=n.O(o)})();
//# sourceMappingURL=app.f3d6e74b.js.map